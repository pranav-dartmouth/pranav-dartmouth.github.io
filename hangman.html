<!DOCTYPE html>
<html>
  <head>
    <title>Pranav's Hangman Game</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script>
      $(document).ready(


          

          function() {

          let total_chances = 10;
          let possiblewords = ["t h a t", "w i t h", "t h i s", "f r o m", "h a v e", "t h e y", "w e r e", "b e e n", "m o r e", "w h e n", "w i l l", "w h a t", 
                               "t h e m", "t h a n", "s o m e", "t i m e", "i n t o", "o n l y", "s u c h", "a l s o", "t h e n", "m o s t", "s a i d", "y o u r", 
                               "v e r y", "m a d e", "m a n y", "o v e r", "l i k e", "e v e n", "w e l l", "m u s t", "s a m e", "w o r k", "l i f e", "e a c h",
                               "m u c h", "b o t h", "u p o n", "u s e d", "p a r t", "g o o d", "m a k e", "l o n g", "j u s t", "h e r e", "d o e s", "d o w n",
                               "c a s e", "b a c k", "a r e a", "t r u e", "s e l f", "f r e e", "k i n g", "d o n e"]

          let word = possiblewords[Math.floor(Math.random() * (possiblewords.length))];
          let wordlength = word.length;
          let blanks = "";
          for (let i = 1; i<=wordlength; i++) {
            blanks += "_ ";
          }
          let guesses = "";

          $("#word").html(blanks);

            $(".letter").click(function() {
                    let id = $(this).attr('id');
                    console.log("Clicked on " + id);

                    if (guesses.includes(id)) {
                          $("#errormessage").html("You already guessed " + id);
                    }

                    else {
                        guesses = guesses + id;
                        $("#" + id).css('text-decoration', 'line-through');
                      
                        total_chances = total_chances - 1;
                        if (total_chances < 0) {
                              $("#errormessage").html("You are out of guesses. You have unfortunately lost the game.");
                        }
                        else {
                              $("#numberofchances").html(total_chances);

                              if(word.includes(id)) {
                                let index = word.indexOf(id);
                                console.log("letter" + id + "is at position " + index + "of the word");
                                blanks = blanks.substr(0, index) + id + blanks.substr(index + 1);
                                $("#word").html(blanks);  
                              }

                              if (blanks == word) {
                                      $("#errormessage").html("You won");

                              }
                        }
                          
                    }
              }
              )
        });
    </script>
    <style>

      #word {
        font-weight: bold;
      }

      #errormessage {
          color: red;
      }
    </style>
  </head>
  <body>
    <h1>Hangman!</h1>
      <div id="chances">
        <p>
          You have <span id="numberofchances">10</span> chances left.
        </p>
      </div>

      <div id="wordspace">
        <p>
          The word to guess is <span id="word"></span>
        </p>
      </div>

      <div id="letterselection">
        <p>Click on a letter to guess.</p>
        <p>
          <span class="letter" id="a">a</span>
          <span class="letter" id="b">b</span>
          <span class="letter" id="c">c</span>
          <span class="letter" id="d">d</span>
          <span class="letter" id="e">e</span>
          <span class="letter" id="f">f</span>
          <span class="letter" id="g">g</span>
          <span class="letter" id="h">h</span>
          <span class="letter" id="i">i</span>
          <span class="letter" id="j">j</span>
          <span class="letter" id="k">k</span>
          <span class="letter" id="l">l</span>
          <span class="letter" id="m">m</span>
          <span class="letter" id="n">n</span>
          <span class="letter" id="o">o</span>
          <span class="letter" id="p">p</span>
          <span class="letter" id="q">q</span>
          <span class="letter" id="r">r</span>
          <span class="letter" id="s">s</span>
          <span class="letter" id="t">t</span>
          <span class="letter" id="u">u</span>
          <span class="letter" id="v">v</span>
          <span class="letter" id="w">w</span>
          <span class="letter" id="x">x</span>
          <span class="letter" id="y">y</span>
          <span class="letter" id="z">z</span>
        </p>
        </div>

        <div id="errormessage"></div>
  </body>
</html>
